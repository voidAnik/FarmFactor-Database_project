CREATE TABLE farmer (f_username varchar(25) NOT NULL, f_user_pass char(25) NOT NULL, farmer_name varchar(25) NOT NULL, f_address varchar(50) NOT NULL, f_phone_number int(11) NOT NULL, farm_location varchar(50), rating int(1) DEFAULT 0, f_account_no int(10) NOT NULL, PRIMARY KEY (f_username));
CREATE TABLE buyer (b_username varchar(25) NOT NULL, b_user_pass char(25) NOT NULL, buyer_name char(25) NOT NULL, b_address varchar(50) NOT NULL, b_phone_number int(11) NOT NULL, company_location varchar(50), company_name varchar(25), b_account_no int(10) NOT NULL, PRIMARY KEY (b_username));
CREATE TABLE product_on_sale (ad_id int(10) NOT NULL AUTO_INCREMENT, product_name varchar(25) NOT NULL, farmer_name varchar(25) NOT NULL, weight int(10) NOT NULL, `wanted_price/unit` int(10) NOT NULL, sample_image varchar(255), ad_date date NOT NULL, ad_time time NOT NULL, ending_date date NOT NULL, ending_time time NOT NULL, unit varchar(10) NOT NULL, sale_start_date date NOT NULL, sale_start_time time NOT NULL, fkf_username varchar(25) NOT NULL, PRIMARY KEY (ad_id));
CREATE TABLE cart (product_name varchar(25) NOT NULL, product_amount int(10) NOT NULL, product_total_price int(10) NOT NULL, fkb_username varchar(25) NOT NULL, fkbid_cart_serial_no int(11) NOT NULL);
CREATE TABLE bidding_cart (bid_cart_serial_no int(11) NOT NULL AUTO_INCREMENT, bid_product_name varchar(25) NOT NULL, bidding_rank varchar(5) NOT NULL, bid_product_amount int(10) NOT NULL, bid_product_price int(10) NOT NULL, fkb_username varchar(25) NOT NULL, fkad_id int(10) NOT NULL, PRIMARY KEY (bid_cart_serial_no));
CREATE TABLE notifications (notify_id int(10) NOT NULL AUTO_INCREMENT, text varchar(255) NOT NULL, notify_date_time datetime NOT NULL, fkf_username varchar(25), fkb_username varchar(25), PRIMARY KEY (notify_id));
CREATE TABLE bid_rank (serial int(11) NOT NULL AUTO_INCREMENT, rank_id varchar(5) NOT NULL, rank_wise_start time NOT NULL, rank_wise_end time NOT NULL, `rank_wise_price/unit` int(10) NOT NULL, weight_limit_start int(10), weight_limit_end int(10), fkad_id int(10) NOT NULL, PRIMARY KEY (serial));
CREATE TABLE payment (Payment_id int(10) NOT NULL AUTO_INCREMENT, transaction_id int(10) NOT NULL, farmerf_username varchar(25) NOT NULL, buyerb_username varchar(25) NOT NULL, amount int(11) NOT NULL, PRIMARY KEY (Payment_id));
CREATE TABLE product_on_sale_buyer (product_on_salead_id int(10) NOT NULL, buyerb_username varchar(25) NOT NULL, bid_rankserial int(11) NOT NULL, PRIMARY KEY (product_on_salead_id, buyerb_username));
CREATE TABLE bidding_room (bid int(11) NOT NULL AUTO_INCREMENT, rank_id varchar(5) NOT NULL, bid_price int(11) NOT NULL, quantity int(11) NOT NULL, bid_time datetime NOT NULL, is_complete int(11) NOT NULL, fkb_username varchar(25) NOT NULL, fkad_id int(10) NOT NULL, PRIMARY KEY (bid));
ALTER TABLE product_on_sale ADD INDEX FKproduct_on354497 (fkf_username), ADD CONSTRAINT FKproduct_on354497 FOREIGN KEY (fkf_username) REFERENCES farmer (f_username);
ALTER TABLE bidding_cart ADD INDEX FKbidding_ca151935 (fkb_username), ADD CONSTRAINT FKbidding_ca151935 FOREIGN KEY (fkb_username) REFERENCES buyer (b_username);
ALTER TABLE payment ADD INDEX FKpayment943095 (farmerf_username), ADD CONSTRAINT FKpayment943095 FOREIGN KEY (farmerf_username) REFERENCES farmer (f_username);
ALTER TABLE payment ADD INDEX FKpayment873159 (buyerb_username), ADD CONSTRAINT FKpayment873159 FOREIGN KEY (buyerb_username) REFERENCES buyer (b_username);
ALTER TABLE cart ADD INDEX FKcart93324 (fkb_username), ADD CONSTRAINT FKcart93324 FOREIGN KEY (fkb_username) REFERENCES buyer (b_username);
ALTER TABLE cart ADD INDEX `finally to cart` (fkbid_cart_serial_no), ADD CONSTRAINT `finally to cart` FOREIGN KEY (fkbid_cart_serial_no) REFERENCES bidding_cart (bid_cart_serial_no);
ALTER TABLE notifications ADD INDEX FKnotificati526866 (fkf_username), ADD CONSTRAINT FKnotificati526866 FOREIGN KEY (fkf_username) REFERENCES farmer (f_username);
ALTER TABLE notifications ADD INDEX FKnotificati569149 (fkb_username), ADD CONSTRAINT FKnotificati569149 FOREIGN KEY (fkb_username) REFERENCES buyer (b_username);
ALTER TABLE bid_rank ADD INDEX FKbid_rank721766 (fkad_id), ADD CONSTRAINT FKbid_rank721766 FOREIGN KEY (fkad_id) REFERENCES product_on_sale (ad_id);
ALTER TABLE bidding_cart ADD INDEX FKbidding_ca24142 (fkad_id), ADD CONSTRAINT FKbidding_ca24142 FOREIGN KEY (fkad_id) REFERENCES product_on_sale (ad_id);
ALTER TABLE product_on_sale_buyer ADD INDEX FKproduct_on264579 (product_on_salead_id), ADD CONSTRAINT FKproduct_on264579 FOREIGN KEY (product_on_salead_id) REFERENCES product_on_sale (ad_id);
ALTER TABLE product_on_sale_buyer ADD INDEX FKproduct_on35821 (buyerb_username), ADD CONSTRAINT FKproduct_on35821 FOREIGN KEY (buyerb_username) REFERENCES buyer (b_username);
ALTER TABLE product_on_sale_buyer ADD INDEX FKproduct_on338741 (bid_rankserial), ADD CONSTRAINT FKproduct_on338741 FOREIGN KEY (bid_rankserial) REFERENCES bid_rank (serial);
ALTER TABLE bidding_room ADD INDEX FKbidding_ro691715 (fkb_username), ADD CONSTRAINT FKbidding_ro691715 FOREIGN KEY (fkb_username) REFERENCES buyer (b_username);
ALTER TABLE bidding_room ADD INDEX FKbidding_ro484361 (fkad_id), ADD CONSTRAINT FKbidding_ro484361 FOREIGN KEY (fkad_id) REFERENCES product_on_sale (ad_id);
